/* 通用样式重置和字体设置 */
body {
  font-family: "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
  line-height: 1.6;
  color: #333;
  box-sizing: border-box; /* 确保所有元素使用统一的盒模型 */
}

/* 页面标题样式优化 */
h1 {
  color: #2c3e50; /* 深色标题 */
  border-bottom: 3px solid #3498db; /* 更显眼的蓝色下划线 */
  padding-bottom: 10px;
  margin-bottom: 30px;
  text-align: center; /* 标题居中 */
  font-size: 2.5em; /* 增大标题字号 */
  animation: fadeInDown 1s ease-out; /* 入场动画 */
}

/* 按钮样式优化及动画 */
.stButton > button {
  border-radius: 8px;
  box-shadow: 3px 3px 8px rgba(0, 0, 0, 0.2); /* 更明显的阴影 */
  font-weight: bold;
  padding: 10px 20px;
  background-color: #3498db; /* 蓝色背景 */
  color: white;
  border: none;
  transition: all 0.3s ease-in-out; /* 平滑过渡动画 */
  cursor: pointer;
  box-sizing: border-box; /* 确保按钮也使用 border-box */
}

.stButton > button:hover {
  background-color: #2980b9; /* 悬停时颜色变深 */
  box-shadow: 5px 5px 12px rgba(0, 0, 0, 0.3); /* 悬停时阴影加深 */
  transform: translateY(-2px); /* 悬停时轻微上浮 */
}

.stButton > button:active {
  transform: translateY(0); /* 点击时恢复原位 */
  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.2); /* 点击时阴影减小 */
}

/* 输入框（文本输入、数字输入、文本域等）样式优化及动画 */
/* 统一设置输入组件的样式，确保文本内容不被遮挡 */
.stTextInput > div > div > input,
.stNumberInput > div > div > input,
.stTextArea > div > div > textarea {
  border: 2px solid #3498db; /* 蓝色边框，更易辨认 */
  border-radius: 8px; /* 增大圆角 */
  padding: 12px 15px; /* **关键调整：增加垂直方向的padding** */
  line-height: 1.5; /* **关键调整：设置行高，确保文本垂直居中且不溢出** */
  font-size: 1em; /* 确保字体大小适中，可以根据需要调整 */
  transition: all 0.3s ease-in-out; /* 平滑过渡动画 */
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1); /* 轻微阴影 */
  box-sizing: border-box; /* 确保使用 border-box 模型 */
  width: 100%; /* 确保宽度占满父容器 */
}

.stTextInput > div > div > input:focus,
.stNumberInput > div > div > input:focus,
.stTextArea > div > div > textarea:focus {
  border-color: #e67e22; /* 聚焦时边框变为橙色 */
  box-shadow: 0 0 0 3px rgba(230, 126, 34, 0.3); /* 聚焦时光晕效果 */
  outline: none; /* 移除默认聚焦轮廓 */
  transform: scale(1.01); /* 聚焦时轻微放大 */
}

/* 下拉列表（Selectbox）样式优化及动画 */
/* 注意：Streamlit的下拉列表结构复杂，以下针对其内部元素进行样式调整 */
/* 针对下拉列表的主容器 */
.stSelectbox > div > div {
  border: 2px solid #3498db; /* 蓝色边框 */
  border-radius: 8px; /* 增大圆角 */
  /* padding: 5px 10px; */ /* 这里的padding可能影响箭头和文本，我们直接设置内部元素的padding */
  transition: all 0.3s ease-in-out; /* 平滑过渡动画 */
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1); /* 轻微阴影 */
  box-sizing: border-box;
  width: 100%;
  /* 移除或调整此处可能导致遮挡的padding，让其内部的span/input自行控制 */
}

/* 针对下拉列表的显示文本部分（通常是 span 或 div） */
.stSelectbox > div > div > div > span {
  /* 这可能需要根据Streamlit实际生成的HTML结构调整 */
  padding: 12px 15px; /* **关键调整：增加文本内容的padding** */
  line-height: 1.5; /* **关键调整：设置行高** */
  display: block; /* 确保span能应用padding和line-height */
  white-space: nowrap; /* 防止文本换行，如果文本过长 */
  overflow: hidden; /* **关键调整：溢出隐藏** */
  text-overflow: ellipsis; /* **关键调整：文本溢出显示省略号** */
  font-size: 1em; /* 确保字体大小适中 */
  box-sizing: border-box;
}

/* 针对下拉列表的箭头图标（通常是 SVG 或其他元素） */
/* 可能需要调整箭头位置，确保不遮挡文本 */
.stSelectbox > div > div > div:last-child {
  /* 假设箭头是最后一个子元素 */
  display: flex;
  align-items: center;
  padding-right: 10px; /* 给箭头留出空间 */
  /* 确保箭头本身不会占用太多高度 */
}

.stSelectbox > div > div:hover {
  border-color: #2980b9; /* 悬停时边框颜色变深 */
}

.stSelectbox > div > div:focus-within {
  border-color: #e67e22; /* 聚焦时边框变为橙色 */
  box-shadow: 0 0 0 3px rgba(230, 126, 34, 0.3); /* 聚焦时光晕效果 */
  transform: scale(1.01); /* 聚焦时轻微放大 */
  outline: none; /* 移除默认聚焦轮廓 */
}

/* 多选框（Multiselect）样式优化及动画 */
.stMultiSelect > div > div {
  border: 2px solid #3498db; /* 蓝色边框 */
  border-radius: 8px; /* 增大圆角 */
  /* padding: 5px 10px; */ /* 同selectbox，让内部元素控制padding */
  transition: all 0.3s ease-in-out; /* 平滑过渡动画 */
  box-shadow: 1px 1px 3px rgba(0, 0, 0, 0.1); /* 轻微阴影 */
  box-sizing: border-box;
  width: 100%;
}

/* 针对多选框内部的输入区域或显示标签的区域 */
.stMultiSelect > div > div > div > input, /* 搜索输入框 */
.stMultiSelect > div > div > div > div > span {
  /* 已选标签 */
  padding: 8px 12px; /* **关键调整：增加padding** */
  line-height: 1.5; /* **关键调整：设置行高** */
  font-size: 1em;
  box-sizing: border-box;
}

.stMultiSelect > div > div:hover {
  border-color: #2980b9; /* 悬停时边框颜色变深 */
}

.stMultiSelect > div > div:focus-within {
  border-color: #e67e22; /* 聚焦时边框变为橙色 */
  box-shadow: 0 0 0 3px rgba(230, 126, 34, 0.3); /* 聚焦时光晕效果 */
  transform: scale(1.01); /* 聚焦时轻微放大 */
  outline: none; /* 移除默认聚焦轮廓 */
}

/* 滑块（Slider）样式优化 */
.stSlider .st-fx {
  /* 滑块轨道 */
  background-color: #bdc3c7; /* 浅灰色轨道 */
  border-radius: 5px;
  height: 8px;
}

.stSlider .st-fy {
  /* 滑块填充部分 */
  background-color: #3498db; /* 蓝色填充 */
  border-radius: 5px;
  height: 8px;
}

.stSlider .st-fz {
  /* 滑块手柄 */
  background-color: #e67e22; /* 橙色手柄 */
  border: 2px solid white;
  box-shadow: 0 0 5px rgba(0, 0, 0, 0.2);
  width: 20px;
  height: 20px;
  border-radius: 50%;
  transition: all 0.2s ease-in-out;
}

.stSlider .st-fz:hover {
  transform: scale(1.1);
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.3);
}

/* 复选框（Checkbox）和单选按钮（Radio）样式优化 */
.stCheckbox > label,
.stRadio > label {
  font-size: 1.1em;
  color: #555;
  cursor: pointer;
  transition: color 0.2s ease-in-out;
}

.stCheckbox > label:hover,
.stRadio > label:hover {
  color: #3498db;
}

/* 消息框样式 */
.stSuccess {
  background-color: #e8f5e9;
  color: #2e7d32;
  border: 1px solid #a5d6a7;
  padding: 15px;
  border-radius: 8px;
  margin-top: 20px;
  font-weight: bold;
  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
  animation: fadeIn 0.5s ease-out;
}

.stError {
  background-color: #ffebee;
  color: #c62828;
  border: 1px solid #ef9a9a;
  padding: 15px;
  border-radius: 8px;
  margin-top: 20px;
  font-weight: bold;
  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
  animation: fadeIn 0.5s ease-out;
}

.stWarning {
  background-color: #fffde7;
  color: #fbc02d;
  border: 1px solid #fff59d;
  padding: 15px;
  border-radius: 8px;
  margin-top: 20px;
  font-weight: bold;
  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
  animation: fadeIn 0.5s ease-out;
}

/* ------------------------------------------ */
.stSidebar [data-testid="stSidebarNav"] ul li a {
  font-size: 60px !important;
  font-weight: 600 !important;
  padding: 2px 16px !important;
  border-radius: 8px !important;
}

.stSidebar > div:first-child {
  border-right: 1px solid #6f7070 !important;
  box-shadow: 2px 0 8px rgba(0, 0, 0, 0.1) !important;
}

.stSidebar [data-testid="stSidebarNav"] ul li a {
  font-size: 18px !important;
  font-weight: 600 !important;
}

.chat-container {
  height: 400px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 10px;
  padding: 10px;
  background-color: #f9f9f9;
  margin-bottom: 10px;
}

.user-message {
  display: flex;
  justify-content: flex-end;
  margin-bottom: 10px;
}

.assistant-message {
  display: flex;
  justify-content: flex-start;
  margin-bottom: 10px;
}

.message-bubble {
  max-width: 70%;
  padding: 10px 15px;
  border-radius: 15px;
  word-wrap: break-word;
}

.user-bubble {
  background-color: #007bff;
  color: white;
  border-bottom-right-radius: 5px;
}

.assistant-bubble {
  background-color: #e9ecef;
  color: #333;
  border-bottom-left-radius: 5px;
}

.message-time {
  font-size: 0.8em;
  opacity: 0.7;
  margin-top: 5px;
}

/* -------------- */
.stChatInputContainer {
  background-color: #f0f2f6; /* Light gray background */
  border: 1px solid #d3d3d3; /* Light gray border */
  border-radius: 5px;
  padding: 10px;
  margin-bottom: 10px; /* Space below the input */
}

/* Style for the actual chat input text area */
.stChatInput textarea {
  background-color: #ffffff; /* White background for text area */
  color: #333333; /* Darker text color */
  border: 1px solid #ccc;
  border-radius: 3px;
  padding: 8px;
}

/* Style for user messages */
.stChatMessage.user {
  background-color: #e6f7ff; /* Light blue */
  border-left: 5px solid #007bff; /* Blue border on the left */
  padding: 10px;
  border-radius: 8px;
  margin-bottom: 10px;
  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
}

/* Style for bot messages */
.stChatMessage.assistant {
  background-color: #f0f0f0; /* Light gray */
  border-left: 5px solid #6c757d; /* Darker gray border on the left */
  padding: 10px;
  border-radius: 8px;
  margin-bottom: 10px;
  box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
}
/* ------------- */
/* 动画效果 */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeInDown {
  from {
    opacity: 0;
    transform: translateY(-20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
